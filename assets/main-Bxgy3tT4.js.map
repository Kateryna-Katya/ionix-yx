{"version":3,"file":"main-Bxgy3tT4.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // ==========================================================================\n  // 1. Скрипт для мобильного меню (Header)\n  // ==========================================================================\n  const menuToggle = document.getElementById('menuToggle');\n  const headerNav = document.querySelector('.header__nav');\n  const navLinks = document.querySelectorAll('.nav__link');\n\n  const toggleMenu = () => {\n      headerNav.classList.toggle('is-open');\n      // Обновление иконки\n      const iconElement = menuToggle.querySelector('svg');\n      if (headerNav.classList.contains('is-open')) {\n          iconElement.setAttribute('data-lucide', 'x');\n      } else {\n          iconElement.setAttribute('data-lucide', 'menu');\n      }\n      // Переинициализация иконок после смены data-lucide\n      lucide.createIcons();\n  };\n\n  menuToggle.addEventListener('click', toggleMenu);\n\n  // Закрытие меню при клике на ссылку (только для мобильной версии)\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          if (window.innerWidth < 768) {\n              // Добавляем небольшую задержку для плавности скролла\n              setTimeout(() => {\n                  if (headerNav.classList.contains('is-open')) {\n                      toggleMenu();\n                  }\n              }, 200);\n          }\n      });\n  });\n\n\n  // ==========================================================================\n  // 2. Скрипт для Cookie Pop-up (Этап 5)\n  // ==========================================================================\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptCookiesButton = document.getElementById('acceptCookies');\n  const cookieAccepted = localStorage.getItem('ionix_cookies_accepted');\n\n  // Функция показа/скрытия\n  const showCookiePopup = () => {\n      if (!cookieAccepted) {\n          cookiePopup.classList.remove('is-hidden');\n      }\n  }\n\n  const hideCookiePopup = () => {\n      cookiePopup.classList.add('is-hidden');\n      localStorage.setItem('ionix_cookies_accepted', 'true');\n  }\n\n  // Показываем, если не было принято\n  showCookiePopup();\n\n  // Обработчик кнопки \"Принять\"\n  acceptCookiesButton.addEventListener('click', hideCookiePopup);\n});\n\nconst canvas = document.getElementById('brainCanvas');\n    if (canvas) {\n        const ctx = canvas.getContext('2d');\n        let width, height;\n\n        // Определяем размеры\n        const setCanvasSize = () => {\n            width = canvas.width = canvas.offsetWidth;\n            height = canvas.height = canvas.offsetHeight;\n        };\n\n        // Точка (Нейрон)\n        class Neuron {\n            constructor(x, y) {\n                this.x = x;\n                this.y = y;\n                this.radius = Math.random() * 2 + 1; // 1 до 3\n                this.speedX = Math.random() * 0.5 - 0.25;\n                this.speedY = Math.random() * 0.5 - 0.25;\n            }\n\n            // Рисование точки\n            draw() {\n                ctx.beginPath();\n                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);\n                ctx.fillStyle = 'rgba(30, 110, 234, 0.8)'; // Синий\n                ctx.fill();\n            }\n\n            // Обновление позиции\n            update() {\n                // Движение\n                this.x += this.speedX;\n                this.y += this.speedY;\n\n                // Отскок от края\n                if (this.x < 0 || this.x > width) this.speedX = -this.speedX;\n                if (this.y < 0 || this.y > height) this.speedY = -this.speedY;\n\n                // Эффект гравитации к центру\n                const centerX = width / 2;\n                const centerY = height / 2;\n                const dx = centerX - this.x;\n                const dy = centerY - this.y;\n                const dist = Math.sqrt(dx * dx + dy * dy);\n\n                if (dist > width/3) { // Точки притягиваются к центру, если они далеко\n                    this.speedX += dx * 0.0001;\n                    this.speedY += dy * 0.0001;\n                }\n\n                this.draw();\n            }\n        }\n\n        let neurons = [];\n        const numNeurons = 50;\n\n        // Создание нейронов\n        const init = () => {\n            setCanvasSize();\n            neurons = [];\n            for (let i = 0; i < numNeurons; i++) {\n                // Создаем точки в центре\n                const x = width / 2 + (Math.random() - 0.5) * width/3;\n                const y = height / 2 + (Math.random() - 0.5) * height/3;\n                neurons.push(new Neuron(x, y));\n            }\n        };\n\n        // Соединение нейронов линиями\n        const connect = () => {\n            const maxDistance = 90; // Максимальная дистанция для соединения\n            for (let i = 0; i < neurons.length; i++) {\n                for (let j = i; j < neurons.length; j++) {\n                    const dx = neurons[i].x - neurons[j].x;\n                    const dy = neurons[i].y - neurons[j].y;\n                    const distance = Math.sqrt(dx * dx + dy * dy);\n\n                    if (distance < maxDistance) {\n                        ctx.beginPath();\n                        ctx.strokeStyle = `rgba(30, 110, 234, ${1 - distance / maxDistance})`;\n                        ctx.lineWidth = 0.5;\n                        ctx.moveTo(neurons[i].x, neurons[i].y);\n                        ctx.lineTo(neurons[j].x, neurons[j].y);\n                        ctx.stroke();\n                    }\n                }\n            }\n        };\n\n        // Главный цикл анимации\n        const animate = () => {\n            requestAnimationFrame(animate);\n            ctx.clearRect(0, 0, width, height);\n\n            connect(); // Рисуем линии перед точками\n\n            neurons.forEach(neuron => {\n                neuron.update();\n            });\n        };\n\n        // Переинициализация при изменении размера\n        window.addEventListener('resize', init);\n\n        init();\n        animate();\n    }\n    const accordionHeaders = document.querySelectorAll('.accordion__header');\n\n    accordionHeaders.forEach(header => {\n        header.addEventListener('click', () => {\n            const content = header.nextElementSibling;\n            const isExpanded = header.getAttribute('aria-expanded') === 'true';\n\n            // Закрыть все, кроме текущего\n            accordionHeaders.forEach(otherHeader => {\n                if (otherHeader !== header) {\n                    otherHeader.setAttribute('aria-expanded', 'false');\n                    const otherContent = otherHeader.nextElementSibling;\n                    otherContent.style.maxHeight = null;\n                }\n            });\n\n            // Открыть или закрыть текущий элемент\n            if (!isExpanded) {\n                header.setAttribute('aria-expanded', 'true');\n                // Устанавливаем max-height на scrollHeight для плавного открытия\n                content.style.maxHeight = content.scrollHeight + 'px';\n            } else {\n                header.setAttribute('aria-expanded', 'false');\n                content.style.maxHeight = null;\n            }\n        });\n    });\n\n\n    const contactForm = document.getElementById('contactForm');\n    const captchaDisplay = document.getElementById('captchaDisplay');\n    const captchaInput = document.getElementById('captchaInput');\n    const captchaMessage = document.getElementById('captchaMessage');\n    const submissionMessage = document.getElementById('submissionMessage');\n    const policyAccept = document.getElementById('policyAccept'); // НОВЫЙ ЭЛЕМЕНТ\n\n    let correctAnswer = 0;\n\n    /**\n     * Генерирует простой математический пример (CAPTCHA).\n     */\n    function generateCaptcha() {\n        const num1 = Math.floor(Math.random() * 10) + 1;\n        const num2 = Math.floor(Math.random() * 10) + 1;\n        correctAnswer = num1 + num2;\n        captchaDisplay.textContent = `${num1} + ${num2} = ?`;\n        captchaMessage.textContent = '';\n        captchaInput.value = '';\n    }\n\n    /**\n     * Валидирует ответ CAPTCHA.\n     * @returns {boolean} True, если ответ верный.\n     */\n    function validateCaptcha() {\n        if (!captchaInput.value.trim()) {\n            captchaMessage.textContent = 'Пожалуйста, решите пример.';\n            captchaMessage.style.color = '#721c24';\n            return false;\n        }\n\n        const userAnswer = parseInt(captchaInput.value.trim());\n        if (userAnswer === correctAnswer) {\n            captchaMessage.textContent = 'Капча успешно пройдена!';\n            captchaMessage.style.color = '#155724';\n            return true;\n        } else {\n            captchaMessage.textContent = 'Неверный ответ. Попробуйте еще раз.';\n            captchaMessage.style.color = '#721c24';\n            generateCaptcha();\n            return false;\n        }\n    }\n\n    // Инициализация CAPTCHA при загрузке страницы\n    generateCaptcha();\n\n    // Обработчик отправки формы\n    contactForm.addEventListener('submit', function(event) {\n        event.preventDefault();\n        submissionMessage.style.display = 'none';\n\n        // 1. Проверка CAPTCHA\n        const isCaptchaValid = validateCaptcha();\n\n        // 2. Проверка Чекбокса (браузерная проверка required уже сработает, но делаем для надежности)\n        const isPolicyAccepted = policyAccept.checked;\n\n        if (isCaptchaValid && isPolicyAccepted) {\n\n            // Имитация успешной отправки данных\n            console.log('Form Submitted and Validated:', {\n                name: document.getElementById('name').value,\n                email: document.getElementById('email').value,\n                message: document.getElementById('message').value,\n                policy: isPolicyAccepted\n            });\n\n            // Показываем сообщение об успехе ТОЛЬКО после успешной валидации\n            submissionMessage.style.display = 'block';\n\n            // Сброс формы и генерация новой капчи\n            contactForm.reset();\n            generateCaptcha();\n\n            // Автоматически скрываем сообщение через 5 секунд\n            setTimeout(() => {\n                submissionMessage.style.display = 'none';\n            }, 5000);\n\n        } else if (!isPolicyAccepted) {\n            alert('Пожалуйста, примите условия использования и политику конфиденциальности.');\n            policyAccept.focus();\n        }\n      });\n"],"names":["menuToggle","headerNav","navLinks","toggleMenu","iconElement","link","cookiePopup","acceptCookiesButton","cookieAccepted","showCookiePopup","hideCookiePopup","canvas","ctx","width","height","setCanvasSize","Neuron","x","y","centerX","centerY","dx","dy","neurons","numNeurons","init","i","connect","j","distance","animate","neuron","accordionHeaders","header","content","isExpanded","otherHeader","otherContent","contactForm","captchaDisplay","captchaInput","captchaMessage","submissionMessage","policyAccept","correctAnswer","generateCaptcha","num1","num2","validateCaptcha","event","isCaptchaValid","isPolicyAccepted"],"mappings":"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"}